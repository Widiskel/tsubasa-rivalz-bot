const a3_0x4c428a=a3_0x4cb0;(function(_0x330460,_0x518ff9){const _0x551f60=a3_0x4cb0,_0x3f9500=_0x330460();while(!![]){try{const _0x43ad44=-parseInt(_0x551f60(0x105))/0x1+parseInt(_0x551f60(0x116))/0x2*(-parseInt(_0x551f60(0x147))/0x3)+parseInt(_0x551f60(0x10f))/0x4*(parseInt(_0x551f60(0x11f))/0x5)+-parseInt(_0x551f60(0x119))/0x6+parseInt(_0x551f60(0x14c))/0x7+parseInt(_0x551f60(0x12a))/0x8+parseInt(_0x551f60(0x122))/0x9*(-parseInt(_0x551f60(0x150))/0xa);if(_0x43ad44===_0x518ff9)break;else _0x3f9500['push'](_0x3f9500['shift']());}catch(_0x31246f){_0x3f9500['push'](_0x3f9500['shift']());}}}(a3_0x50c4,0x197a0));import a3_0x4e4bab from'input';function a3_0x4cb0(_0x2db639,_0xd2660e){const _0x50c4ca=a3_0x50c4();return a3_0x4cb0=function(_0x4cb0c7,_0x98c669){_0x4cb0c7=_0x4cb0c7-0xfd;let _0x3fa5a9=_0x50c4ca[_0x4cb0c7];return _0x3fa5a9;},a3_0x4cb0(_0x2db639,_0xd2660e);}import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x4ce28d from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x4c29e2=a3_0x4cb0;this[_0x4c29e2(0x13d)]='accounts',this[_0x4c29e2(0x12d)]=_0x4c29e2(0xff),this[_0x4c29e2(0x146)]=_0x4c29e2(0x145);}async[a3_0x4c428a(0x141)](){const _0x23ae99=a3_0x4c428a;try{await this[_0x23ae99(0x134)]();}catch(_0x1bbcd7){console[_0x23ae99(0x151)](_0x1bbcd7),a3_0x4ce28d[_0x23ae99(0x114)](''+JSON[_0x23ae99(0x107)](_0x1bbcd7));throw _0x1bbcd7;}}async['onBoarding'](){const _0x4a95db=a3_0x4c428a;try{let _0x2983bd=_0x4a95db(0x11d);const _0x44b870=Helper[_0x4a95db(0x136)](_0x4a95db(0x101));if(_0x44b870['length']==0x0)_0x2983bd+=_0x4a95db(0x106);else for(const _0x14af77 of _0x44b870){_0x2983bd+='-\x20'+_0x14af77+'\x0a';}_0x2983bd+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x2983bd+=_0x4a95db(0x14f);const _0x39ffcc=await a3_0x4e4bab[_0x4a95db(0x12b)](_0x2983bd);if(_0x39ffcc==0x1)await this[_0x4a95db(0x148)]();else{if(_0x39ffcc==0x2)Helper[_0x4a95db(0x129)](),await Helper[_0x4a95db(0x109)](0xbb8),await this['onBoarding']();else{if(_0x39ffcc==0x3)Helper['getSession'](this['accountName'])?.['length']==0x0&&(console[_0x4a95db(0x13a)](_0x4a95db(0x142)),await this[_0x4a95db(0x134)]());else _0x39ffcc==0x4?await this[_0x4a95db(0x12f)]():(console[_0x4a95db(0x114)](_0x4a95db(0x103)),await this[_0x4a95db(0x134)]());}}}catch(_0x3a8379){throw _0x3a8379;}}async['queryModificaiton'](){const _0x350820=a3_0x4c428a;try{const _0x39b222=Helper[_0x350820(0x136)]('accounts'),_0x122b49=_0x39b222['filter'](_0x326a87=>_0x326a87[_0x350820(0x149)](_0x350820(0x135)));let _0x48e024=_0x350820(0x124);for(const _0x549085 of _0x122b49){_0x48e024+=_0x39b222[_0x350820(0x112)](_0x549085)+0x1+'.\x20'+_0x549085+'\x0a';}_0x122b49[_0x350820(0x118)]==0x0?(console[_0x350820(0x151)](_0x350820(0x10d)),await this['onBoarding']()):_0x48e024+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x5aac5c=await a3_0x4e4bab[_0x350820(0x12b)](_0x48e024);if(_0x122b49[_0x5aac5c-0x1]!=undefined){const _0x1378ee=_0x122b49[_0x5aac5c-0x1];this[_0x350820(0x13d)]='accounts/'+_0x1378ee;const _0x29cea4='Old\x20Query\x20:\x20'+Helper[_0x350820(0x121)](this[_0x350820(0x13d)]+_0x350820(0x138))+_0x350820(0x11b),_0x29b1a0=await a3_0x4e4bab[_0x350820(0x12b)](_0x29cea4);await Helper['saveQueryFile'](this[_0x350820(0x13d)],_0x29b1a0),await Helper['delay'](0xbb8),await this[_0x350820(0x134)]();}else console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this['queryModificaiton']();}catch(_0x49609c){throw _0x49609c;}}async[a3_0x4c428a(0x102)](){const _0x4711c2=a3_0x4c428a;try{if(Config[_0x4711c2(0x139)]==undefined||Config[_0x4711c2(0x13c)]==undefined)throw new Error(_0x4711c2(0x12e));const _0x5e9cf1=Helper[_0x4711c2(0x136)]('accounts');let _0x591d7c=_0x4711c2(0x13b);for(const _0x4c793d of _0x5e9cf1){_0x591d7c+=_0x5e9cf1[_0x4711c2(0x112)](_0x4c793d)+0x1+'.\x20'+_0x4c793d+'\x0a';}_0x5e9cf1[_0x4711c2(0x118)]==0x0?_0x591d7c+=_0x4711c2(0x14e):_0x591d7c+=_0x4711c2(0x10e);const _0x5a0e06=await a3_0x4e4bab[_0x4711c2(0x12b)](_0x591d7c);this[_0x4711c2(0x13d)]=Helper[_0x4711c2(0x113)]('sessions-'+_0x5a0e06),await this[_0x4711c2(0x10b)](this[_0x4711c2(0x13d)]),await this[_0x4711c2(0x132)](),a3_0x4ce28d[_0x4711c2(0x13a)](_0x4711c2(0x13e)+this[_0x4711c2(0x13d)]+_0x4711c2(0x131)),console['log'](_0x4711c2(0x13e)+_0x5a0e06+_0x4711c2(0x127)),this[_0x4711c2(0x104)][_0x4711c2(0x11e)](),await Helper[_0x4711c2(0x109)](0xbb8),process[_0x4711c2(0x108)]();}catch(_0x4eaacd){throw _0x4eaacd;}}async[a3_0x4c428a(0x133)](){const _0x3b6b73=a3_0x4c428a;try{const _0x40fbef=Helper[_0x3b6b73(0x136)](_0x3b6b73(0x101));let _0x22ce37=_0x3b6b73(0x13b);for(const _0x20043f of _0x40fbef){_0x22ce37+=_0x40fbef[_0x3b6b73(0x112)](_0x20043f)+0x1+'.\x20'+_0x20043f+'\x0a';}_0x40fbef['length']==0x0?_0x22ce37+=_0x3b6b73(0x14d):_0x22ce37+=_0x3b6b73(0x12c);const _0x4cc694=await a3_0x4e4bab[_0x3b6b73(0x12b)](_0x22ce37);this[_0x3b6b73(0x13d)]=Helper[_0x3b6b73(0x113)](_0x3b6b73(0x120)+_0x4cc694);let _0x4c5e98=_0x3b6b73(0x143);const _0x18ed56=await a3_0x4e4bab[_0x3b6b73(0x12b)](_0x4c5e98);await Helper[_0x3b6b73(0x128)](this[_0x3b6b73(0x13d)],_0x18ed56),a3_0x4ce28d[_0x3b6b73(0x13a)](_0x3b6b73(0x140)+this['accountName']+_0x3b6b73(0x131)),console['log'](_0x3b6b73(0x140)+_0x4cc694+_0x3b6b73(0x127)),await Helper[_0x3b6b73(0x109)](0xbb8),process[_0x3b6b73(0x108)]();}catch(_0x520788){throw _0x520788;}}async[a3_0x4c428a(0x148)](){const _0xf19249=a3_0x4c428a;try{const _0x58ec13=Helper[_0xf19249(0x136)](_0xf19249(0x101));let _0x6f5a7d=_0xf19249(0x13b);if(_0x58ec13[_0xf19249(0x118)]>0x0)for(const _0x47931c of _0x58ec13){_0x6f5a7d+=_0x58ec13['indexOf'](_0x47931c)+0x1+'.\x20'+_0x47931c+'\x0a';}else _0x6f5a7d+=_0xf19249(0x115);_0x6f5a7d+=_0xf19249(0x100);const _0x4f5aeb=await a3_0x4e4bab[_0xf19249(0x12b)](_0x6f5a7d);if(_0x4f5aeb==0x1)await this[_0xf19249(0x102)]();else _0x4f5aeb==0x2?await this[_0xf19249(0x133)]():(console[_0xf19249(0x151)](_0xf19249(0x117)),await this[_0xf19249(0x148)]());}catch(_0x1da128){throw _0x1da128;}}async[a3_0x4c428a(0x10b)](_0x295cee,_0x167092){const _0x23fcff=a3_0x4c428a;try{this[_0x23fcff(0x10a)]=_0x167092;const _0x14f090={'connectionRetries':0x5};this[_0x23fcff(0x10a)]&&(_0x14f090[_0x23fcff(0x123)]=new HttpsProxyAgent(this['proxy'])),this['storeSession']=new StoreSession(_0x295cee),this[_0x23fcff(0x137)]=new TelegramClient(this[_0x23fcff(0x104)],Config[_0x23fcff(0x139)],Config[_0x23fcff(0x13c)],_0x14f090),this[_0x23fcff(0x104)][_0x23fcff(0x11e)](),await this[_0x23fcff(0x137)]['start']({'phoneNumber':async()=>await a3_0x4e4bab['text'](_0x23fcff(0x10c)),'password':async()=>await a3_0x4e4bab[_0x23fcff(0x12b)](_0x23fcff(0x14a)),'phoneCode':async()=>await a3_0x4e4bab[_0x23fcff(0x12b)](_0x23fcff(0x130)),'onError':_0x2d2355=>{const _0x5c18c4=_0x23fcff;console[_0x5c18c4(0x151)](_0x2d2355['message']);}});}catch(_0x5e5f99){throw _0x5e5f99;}}async['resolvePeer'](){const _0x37c42b=a3_0x4c428a;try{a3_0x4ce28d['info'](_0x37c42b(0x13e)+this['session']+_0x37c42b(0x125));while(this['peer']==undefined){try{this[_0x37c42b(0x14b)]=await this[_0x37c42b(0x137)][_0x37c42b(0xfd)](this[_0x37c42b(0x146)]);break;}catch(_0x271e76){if(_0x271e76 instanceof FloodWaitError){const _0x53b63a=_0x271e76[_0x37c42b(0x111)];a3_0x4ce28d[_0x37c42b(0x11a)](this['client'][_0x37c42b(0xfe)][_0x37c42b(0x11c)]+'\x20|\x20FloodWait\x20'+_0x271e76),a3_0x4ce28d[_0x37c42b(0x13a)](this['client'][_0x37c42b(0xfe)][_0x37c42b(0x11c)]+_0x37c42b(0x144)+_0x53b63a+'s'),await Helper[_0x37c42b(0x109)]((_0x53b63a+0x3)*0x3e8);}else throw _0x271e76;}}}catch(_0x1882c3){throw _0x1882c3;}}async[a3_0x4c428a(0x132)](){const _0x38c433=a3_0x4c428a;await this[_0x38c433(0x137)][_0x38c433(0x132)](),await this[_0x38c433(0x137)]['destroy'](),this[_0x38c433(0x14b)]=undefined,this['accountName']=undefined;}async['initWebView'](){const _0x3cf5d4=a3_0x4c428a;try{const _0x5e2440=await this[_0x3cf5d4(0x137)]['invoke'](new Api['messages'][(_0x3cf5d4(0x126))]({'peer':this['peer'],'bot':this[_0x3cf5d4(0x14b)],'fromBotMenu':!![],'url':this['url'],'platform':'android'}));a3_0x4ce28d[_0x3cf5d4(0x13a)](_0x3cf5d4(0x13e)+this[_0x3cf5d4(0xfe)]+_0x3cf5d4(0x13f));const _0x5706af=_0x5e2440[_0x3cf5d4(0x12d)];return Helper[_0x3cf5d4(0x110)](_0x5706af,0x3);}catch(_0x1678ed){throw _0x1678ed;}}}function a3_0x50c4(){const _0x590bca=['info','Your\x20Account\x20List\x20:\x0a\x20\x0a','TELEGRAM_APP_HASH','accountName','Session\x20','\x20-\x20Webview\x20Connected','Query\x20','init','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x20|\x20Sleep\x20','TsubasaRivalsBot','bot','111UuExIb','accountType','includes','Enter\x20your\x20Telegram\x20Password?','peer','1282036VmiXZf','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','6830RPEmYP','log','getEntity','session','https://app.ton.tsubasa-rivals.com/','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','accounts','sessionCreation','Invalid\x20input,\x20Please\x20try\x20again','storeSession','6320ytyJng','<empty>','stringify','exit','delay','proxy','useSession','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','You\x20dont\x20have\x20any\x20Query\x20Account.','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','136LCukcP','getTelegramQuery','seconds','indexOf','createDir','error','<empty>\x0a','4304jDyLJJ','Invalid\x20Input','length','453234VrLdxv','warn','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','serverAddress','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','save','9525zJQwzG','query-','readQueryFile','1386zPSMGZ','agent','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Resolving\x20Peer','RequestWebView','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','saveQueryFile','resetAccounts','984792iYruWL','text','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','url','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','queryModificaiton','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','\x20-\x20Created','disconnect','queryCreation','onBoarding','query','getSession','client','/query.txt','TELEGRAM_APP_ID'];a3_0x50c4=function(){return _0x590bca;};return a3_0x50c4();}