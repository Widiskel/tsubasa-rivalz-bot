const a3_0x583c3a=a3_0xc448;(function(_0x4eb64b,_0x46970d){const _0x4174ed=a3_0xc448,_0x476848=_0x4eb64b();while(!![]){try{const _0x4b37b2=parseInt(_0x4174ed(0x1fd))/0x1*(-parseInt(_0x4174ed(0x1de))/0x2)+parseInt(_0x4174ed(0x1ea))/0x3*(parseInt(_0x4174ed(0x1d0))/0x4)+-parseInt(_0x4174ed(0x1f7))/0x5+parseInt(_0x4174ed(0x214))/0x6*(-parseInt(_0x4174ed(0x219))/0x7)+parseInt(_0x4174ed(0x1d8))/0x8*(-parseInt(_0x4174ed(0x21d))/0x9)+-parseInt(_0x4174ed(0x207))/0xa*(parseInt(_0x4174ed(0x1ec))/0xb)+-parseInt(_0x4174ed(0x20b))/0xc*(-parseInt(_0x4174ed(0x21b))/0xd);if(_0x4b37b2===_0x46970d)break;else _0x476848['push'](_0x476848['shift']());}catch(_0x3df7ed){_0x476848['push'](_0x476848['shift']());}}}(a3_0x1303,0x38eb7));import a3_0x1bdaf5 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x493cb5 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0xc448(_0x8fd266,_0x4b429c){const _0x1303df=a3_0x1303();return a3_0xc448=function(_0xc44827,_0x5d91d9){_0xc44827=_0xc44827-0x1c7;let _0x5376dc=_0x1303df[_0xc44827];return _0x5376dc;},a3_0xc448(_0x8fd266,_0x4b429c);}function a3_0x1303(){const _0x12efa7=['android','sessionCreation','storeSession','length','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','626575RexFdj','delay','resetAccounts','invoke','init','queryCreation','127247bmSiMq','\x20-\x20Created','query','/query.txt','messages','<empty>\x0a','getSession','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','\x20|\x20Sleep\x20','110aLMccq','error','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','accounts/','11287704MQKbPV','Query\x20','Please\x20Enter\x20Telegram\x20Query\x20:\x20','getTelegramQuery','stringify','accountName','text','url','proxy','6hwLkLv','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','disconnect','You\x20dont\x20have\x20any\x20Query\x20Account.','client','2605687vqRipZ','readQueryFile','13lndvuV','peer','666bLthKC','saveQueryFile','https://app.ton.tsubasa-rivals.com/','seconds','TELEGRAM_APP_HASH','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','log','createDir','useSession','session','RequestWebView','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','<empty>','\x20|\x20FloodWait\x20','exit','724fNftps','warn','info','onBoarding','\x20-\x20Resolving\x20Peer','accountType','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','25440ecIVrq','Your\x20Account\x20List\x20:\x0a\x20\x0a','indexOf','Invalid\x20Input','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','includes','4JXwrAw','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','Session\x20','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','accounts','resolvePeer','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','bot','Invalid\x20input,\x20Please\x20try\x20again','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','save','7008EZMzPt','\x20-\x20Webview\x20Connected','142945hrKRhj','TELEGRAM_APP_ID','sessions-','initWebView','TsubasaRivalsBot','queryModificaiton'];a3_0x1303=function(){return _0x12efa7;};return a3_0x1303();}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x564a36=a3_0xc448;this[_0x564a36(0x210)]=_0x564a36(0x1e2),this['url']=_0x564a36(0x21f),this[_0x564a36(0x1e5)]=_0x564a36(0x1f0);}async[a3_0x583c3a(0x1fb)](){const _0x2c4232=a3_0x583c3a;try{await this[_0x2c4232(0x1d3)]();}catch(_0x59f1da){console[_0x2c4232(0x1c7)](_0x59f1da),a3_0x493cb5[_0x2c4232(0x208)](''+JSON[_0x2c4232(0x20f)](_0x59f1da));throw _0x59f1da;}}async[a3_0x583c3a(0x1d3)](){const _0x246f32=a3_0x583c3a;try{let _0x22a91f=_0x246f32(0x1cc);const _0x462698=Helper[_0x246f32(0x203)](_0x246f32(0x1e2));if(_0x462698[_0x246f32(0x1f5)]==0x0)_0x22a91f+=_0x246f32(0x1cd);else for(const _0x5e099d of _0x462698){_0x22a91f+='-\x20'+_0x5e099d+'\x0a';}_0x22a91f+=_0x246f32(0x1e8),_0x22a91f+=_0x246f32(0x1e4);const _0x21903e=await a3_0x1bdaf5[_0x246f32(0x211)](_0x22a91f);if(_0x21903e==0x1)await this['accountType']();else{if(_0x21903e==0x2)Helper[_0x246f32(0x1f9)](),await Helper[_0x246f32(0x1f8)](0xbb8),await this['onBoarding']();else{if(_0x21903e==0x3)Helper[_0x246f32(0x203)](this[_0x246f32(0x210)])?.[_0x246f32(0x1f5)]==0x0&&(console[_0x246f32(0x1d2)](_0x246f32(0x1d7)),await this[_0x246f32(0x1d3)]());else _0x21903e==0x4?await this[_0x246f32(0x1f1)]():(console[_0x246f32(0x208)](_0x246f32(0x1e6)),await this[_0x246f32(0x1d3)]());}}}catch(_0x223f59){throw _0x223f59;}}async[a3_0x583c3a(0x1f1)](){const _0x437f83=a3_0x583c3a;try{const _0x225e55=Helper[_0x437f83(0x203)](_0x437f83(0x1e2)),_0x18a368=_0x225e55['filter'](_0x5dc7fe=>_0x5dc7fe[_0x437f83(0x1dd)](_0x437f83(0x1ff)));let _0x575f41=_0x437f83(0x1f6);for(const _0x2ff765 of _0x18a368){_0x575f41+=_0x225e55[_0x437f83(0x1da)](_0x2ff765)+0x1+'.\x20'+_0x2ff765+'\x0a';}_0x18a368[_0x437f83(0x1f5)]==0x0?(console[_0x437f83(0x1c7)](_0x437f83(0x217)),await this[_0x437f83(0x1d3)]()):_0x575f41+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x132185=await a3_0x1bdaf5['text'](_0x575f41);if(_0x18a368[_0x132185-0x1]!=undefined){const _0x19a54c=_0x18a368[_0x132185-0x1];this[_0x437f83(0x210)]=_0x437f83(0x20a)+_0x19a54c;const _0x118e85='Old\x20Query\x20:\x20'+Helper[_0x437f83(0x21a)](this['accountName']+_0x437f83(0x200))+_0x437f83(0x204),_0x31ea3c=await a3_0x1bdaf5['text'](_0x118e85);await Helper[_0x437f83(0x21e)](this[_0x437f83(0x210)],_0x31ea3c),await Helper['delay'](0xbb8),await this[_0x437f83(0x1d3)]();}else console['error'](_0x437f83(0x1e6)),await this[_0x437f83(0x1f1)]();}catch(_0x272236){throw _0x272236;}}async[a3_0x583c3a(0x1f3)](){const _0x1af31b=a3_0x583c3a;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x1af31b(0x221)]==undefined)throw new Error(_0x1af31b(0x1d6));const _0x448d11=Helper[_0x1af31b(0x203)](_0x1af31b(0x1e2));let _0x52e441='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x5a2ecc of _0x448d11){_0x52e441+=_0x448d11['indexOf'](_0x5a2ecc)+0x1+'.\x20'+_0x5a2ecc+'\x0a';}_0x448d11[_0x1af31b(0x1f5)]==0x0?_0x52e441+=_0x1af31b(0x205):_0x52e441+=_0x1af31b(0x1e1);const _0x4ee323=await a3_0x1bdaf5[_0x1af31b(0x211)](_0x52e441);this[_0x1af31b(0x210)]=Helper[_0x1af31b(0x1c8)](_0x1af31b(0x1ee)+_0x4ee323),await this[_0x1af31b(0x1c9)](this['accountName']),await this[_0x1af31b(0x216)](),a3_0x493cb5[_0x1af31b(0x1d2)]('Session\x20'+this['accountName']+_0x1af31b(0x1fe)),console['log'](_0x1af31b(0x1e0)+_0x4ee323+_0x1af31b(0x1dc)),this[_0x1af31b(0x1f4)][_0x1af31b(0x1e9)](),await Helper[_0x1af31b(0x1f8)](0xbb8),process[_0x1af31b(0x1cf)]();}catch(_0x2f1fee){throw _0x2f1fee;}}async[a3_0x583c3a(0x1fc)](){const _0x3a79cf=a3_0x583c3a;try{const _0x1af793=Helper[_0x3a79cf(0x203)](_0x3a79cf(0x1e2));let _0x4d3c90=_0x3a79cf(0x1d9);for(const _0x3af5f5 of _0x1af793){_0x4d3c90+=_0x1af793['indexOf'](_0x3af5f5)+0x1+'.\x20'+_0x3af5f5+'\x0a';}_0x1af793[_0x3a79cf(0x1f5)]==0x0?_0x4d3c90+=_0x3a79cf(0x222):_0x4d3c90+=_0x3a79cf(0x1df);const _0xa5e978=await a3_0x1bdaf5[_0x3a79cf(0x211)](_0x4d3c90);this[_0x3a79cf(0x210)]=Helper['createDir']('query-'+_0xa5e978);let _0x54dc28=_0x3a79cf(0x20d);const _0x1c85bd=await a3_0x1bdaf5['text'](_0x54dc28);await Helper[_0x3a79cf(0x21e)](this[_0x3a79cf(0x210)],_0x1c85bd),a3_0x493cb5[_0x3a79cf(0x1d2)](_0x3a79cf(0x20c)+this['accountName']+_0x3a79cf(0x1fe)),console[_0x3a79cf(0x1c7)]('Query\x20'+_0xa5e978+_0x3a79cf(0x1dc)),await Helper['delay'](0xbb8),process[_0x3a79cf(0x1cf)]();}catch(_0x159a83){throw _0x159a83;}}async['accountType'](){const _0x10cc03=a3_0x583c3a;try{const _0x2cd6d3=Helper[_0x10cc03(0x203)](_0x10cc03(0x1e2));let _0x16c119=_0x10cc03(0x1d9);if(_0x2cd6d3[_0x10cc03(0x1f5)]>0x0)for(const _0x78c052 of _0x2cd6d3){_0x16c119+=_0x2cd6d3[_0x10cc03(0x1da)](_0x78c052)+0x1+'.\x20'+_0x78c052+'\x0a';}else _0x16c119+=_0x10cc03(0x202);_0x16c119+=_0x10cc03(0x1e7);const _0x281aee=await a3_0x1bdaf5[_0x10cc03(0x211)](_0x16c119);if(_0x281aee==0x1)await this['sessionCreation']();else _0x281aee==0x2?await this[_0x10cc03(0x1fc)]():(console[_0x10cc03(0x1c7)](_0x10cc03(0x1db)),await this[_0x10cc03(0x1d5)]());}catch(_0x553948){throw _0x553948;}}async[a3_0x583c3a(0x1c9)](_0x25595a,_0x30430c){const _0x42b235=a3_0x583c3a;try{this[_0x42b235(0x213)]=_0x30430c;const _0x3bfc7c={'connectionRetries':0x5};this[_0x42b235(0x213)]&&(_0x3bfc7c['agent']=new HttpsProxyAgent(this[_0x42b235(0x213)])),this['storeSession']=new StoreSession(_0x25595a),this['client']=new TelegramClient(this[_0x42b235(0x1f4)],Config[_0x42b235(0x1ed)],Config[_0x42b235(0x221)],_0x3bfc7c),this[_0x42b235(0x1f4)][_0x42b235(0x1e9)](),await this['client']['start']({'phoneNumber':async()=>await a3_0x1bdaf5[_0x42b235(0x211)](_0x42b235(0x209)),'password':async()=>await a3_0x1bdaf5[_0x42b235(0x211)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x1bdaf5[_0x42b235(0x211)](_0x42b235(0x215)),'onError':_0x11ca69=>{const _0x22dd06=_0x42b235;console[_0x22dd06(0x1c7)](_0x11ca69['message']);}});}catch(_0x43eaaa){throw _0x43eaaa;}}async[a3_0x583c3a(0x1e3)](){const _0x5cff3f=a3_0x583c3a;try{a3_0x493cb5[_0x5cff3f(0x1d2)](_0x5cff3f(0x1e0)+this['session']+_0x5cff3f(0x1d4));while(this['peer']==undefined){try{this['peer']=await this[_0x5cff3f(0x218)]['getEntity'](this['bot']);break;}catch(_0x4c6f97){if(_0x4c6f97 instanceof FloodWaitError){const _0x343f8b=_0x4c6f97[_0x5cff3f(0x220)];a3_0x493cb5[_0x5cff3f(0x1d1)](this[_0x5cff3f(0x218)][_0x5cff3f(0x1ca)]['serverAddress']+_0x5cff3f(0x1ce)+_0x4c6f97),a3_0x493cb5[_0x5cff3f(0x1d2)](this[_0x5cff3f(0x218)][_0x5cff3f(0x1ca)]['serverAddress']+_0x5cff3f(0x206)+_0x343f8b+'s'),await Helper[_0x5cff3f(0x1f8)]((_0x343f8b+0x3)*0x3e8);}else throw _0x4c6f97;}}}catch(_0xd7d361){throw _0xd7d361;}}async[a3_0x583c3a(0x216)](){const _0x2ea599=a3_0x583c3a;await this[_0x2ea599(0x218)][_0x2ea599(0x216)](),await this['client']['destroy'](),this[_0x2ea599(0x21c)]=undefined,this[_0x2ea599(0x210)]=undefined;}async[a3_0x583c3a(0x1ef)](){const _0x2de129=a3_0x583c3a;try{const _0x4afaa0=await this[_0x2de129(0x218)][_0x2de129(0x1fa)](new Api[(_0x2de129(0x201))][(_0x2de129(0x1cb))]({'peer':this['peer'],'bot':this[_0x2de129(0x21c)],'fromBotMenu':!![],'url':this['url'],'platform':_0x2de129(0x1f2)}));a3_0x493cb5['info']('Session\x20'+this[_0x2de129(0x1ca)]+_0x2de129(0x1eb));const _0x4ef42c=_0x4afaa0[_0x2de129(0x212)];return Helper[_0x2de129(0x20e)](_0x4ef42c,0x3);}catch(_0xdf5884){throw _0xdf5884;}}}