const a3_0x556e52=a3_0x4760;(function(_0x3450e4,_0x2693f1){const _0x5de5df=a3_0x4760,_0x479338=_0x3450e4();while(!![]){try{const _0x99eca3=parseInt(_0x5de5df(0x1ca))/0x1*(parseInt(_0x5de5df(0x1db))/0x2)+parseInt(_0x5de5df(0x1d5))/0x3*(parseInt(_0x5de5df(0x1e0))/0x4)+parseInt(_0x5de5df(0x1f5))/0x5*(parseInt(_0x5de5df(0x1d3))/0x6)+parseInt(_0x5de5df(0x1c5))/0x7+parseInt(_0x5de5df(0x1f4))/0x8*(-parseInt(_0x5de5df(0x1f7))/0x9)+-parseInt(_0x5de5df(0x1d4))/0xa+-parseInt(_0x5de5df(0x1f6))/0xb;if(_0x99eca3===_0x2693f1)break;else _0x479338['push'](_0x479338['shift']());}catch(_0x14504f){_0x479338['push'](_0x479338['shift']());}}}(a3_0x3d58,0x508fb));import a3_0x521140 from'input';import{Helper}from'../utils/helper.js';function a3_0x3d58(){const _0x3c9f64=['proxy','Query\x20','disconnect','save','Old\x20Query\x20:\x20','\x20-\x20Webview\x20Connected','bot','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','Your\x20Account\x20List\x20:\x0a\x20\x0a','serverAddress','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','792uhIJrF','5HIvJuc','1215654qmmelF','51741RUsVtp','warn','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','message','accountName','queryCreation','log','<empty>\x0a','saveQueryFile','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','messages','accounts','\x20|\x20FloodWait\x20','stringify','TELEGRAM_APP_ID','useSession','exit','onBoarding','accounts/','delay','You\x20dont\x20have\x20any\x20Query\x20Account.','includes','url','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','sessions-','init','session','agent','\x20-\x20Created','createDir','Invalid\x20input,\x20Please\x20try\x20again','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','1162182TMGkTo','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','text','peer','231003wvFmSr','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','readQueryFile','client','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','query-','resolvePeer','Please\x20Enter\x20Telegram\x20Query\x20:\x20','447522KdMNeD','411420uENgDI','1044501VVCzpd','sessionCreation','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','query','storeSession','length','4EMRHkS','info','error','/query.txt','Session\x20','4BVdiUW','getSession','initWebView','TELEGRAM_APP_HASH','getEntity','indexOf','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','RequestWebView','queryModificaiton'];a3_0x3d58=function(){return _0x3c9f64;};return a3_0x3d58();}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';function a3_0x4760(_0x1cecc6,_0x52c57a){const _0x3d58fa=a3_0x3d58();return a3_0x4760=function(_0x47605c,_0x5ec0df){_0x47605c=_0x47605c-0x1a8;let _0x2dd8d5=_0x3d58fa[_0x47605c];return _0x2dd8d5;},a3_0x4760(_0x1cecc6,_0x52c57a);}import a3_0x1f1c20 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x54a939=a3_0x4760;this[_0x54a939(0x1a9)]='accounts',this[_0x54a939(0x1bb)]='https://app.ton.tsubasa-rivals.com/',this[_0x54a939(0x1ef)]='TsubasaRivalsBot';}async[a3_0x556e52(0x1be)](){const _0x5f19c0=a3_0x556e52;try{await this[_0x5f19c0(0x1b6)]();}catch(_0x2724fc){console[_0x5f19c0(0x1ab)](_0x2724fc),a3_0x1f1c20[_0x5f19c0(0x1dd)](''+JSON[_0x5f19c0(0x1b2)](_0x2724fc));throw _0x2724fc;}}async[a3_0x556e52(0x1b6)](){const _0x47b52f=a3_0x556e52;try{let _0x368bb3=_0x47b52f(0x1c4);const _0x30db7c=Helper[_0x47b52f(0x1e1)](_0x47b52f(0x1b0));if(_0x30db7c['length']==0x0)_0x368bb3+='<empty>';else for(const _0x52ecc5 of _0x30db7c){_0x368bb3+='-\x20'+_0x52ecc5+'\x0a';}_0x368bb3+=_0x47b52f(0x1bc),_0x368bb3+=_0x47b52f(0x1ae);const _0x1998ea=await a3_0x521140['text'](_0x368bb3);if(_0x1998ea==0x1)await this['accountType']();else{if(_0x1998ea==0x2)Helper['resetAccounts'](),await Helper[_0x47b52f(0x1b8)](0xbb8),await this[_0x47b52f(0x1b6)]();else{if(_0x1998ea==0x3)Helper[_0x47b52f(0x1e1)](this[_0x47b52f(0x1a9)])?.[_0x47b52f(0x1da)]==0x0&&(console['info'](_0x47b52f(0x1f9)),await this['onBoarding']());else _0x1998ea==0x4?await this[_0x47b52f(0x1e8)]():(console[_0x47b52f(0x1dd)](_0x47b52f(0x1c3)),await this[_0x47b52f(0x1b6)]());}}}catch(_0x2a9939){throw _0x2a9939;}}async[a3_0x556e52(0x1e8)](){const _0x435c0b=a3_0x556e52;try{const _0x13a19c=Helper[_0x435c0b(0x1e1)](_0x435c0b(0x1b0)),_0xc6aeb1=_0x13a19c['filter'](_0x1bb50a=>_0x1bb50a[_0x435c0b(0x1ba)](_0x435c0b(0x1d8)));let _0x49f923=_0x435c0b(0x1cf);for(const _0x511d38 of _0xc6aeb1){_0x49f923+=_0x13a19c['indexOf'](_0x511d38)+0x1+'.\x20'+_0x511d38+'\x0a';}_0xc6aeb1['length']==0x0?(console[_0x435c0b(0x1ab)](_0x435c0b(0x1b9)),await this['onBoarding']()):_0x49f923+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x51b398=await a3_0x521140['text'](_0x49f923);if(_0xc6aeb1[_0x51b398-0x1]!=undefined){const _0x3559e4=_0xc6aeb1[_0x51b398-0x1];this[_0x435c0b(0x1a9)]=_0x435c0b(0x1b7)+_0x3559e4;const _0x5d2104=_0x435c0b(0x1ed)+Helper[_0x435c0b(0x1cd)](this[_0x435c0b(0x1a9)]+_0x435c0b(0x1de))+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x5f0b64=await a3_0x521140[_0x435c0b(0x1c8)](_0x5d2104);await Helper['saveQueryFile'](this[_0x435c0b(0x1a9)],_0x5f0b64),await Helper['delay'](0xbb8),await this[_0x435c0b(0x1b6)]();}else console[_0x435c0b(0x1dd)](_0x435c0b(0x1c3)),await this[_0x435c0b(0x1e8)]();}catch(_0x307299){throw _0x307299;}}async[a3_0x556e52(0x1d6)](){const _0x7acfb2=a3_0x556e52;try{if(Config[_0x7acfb2(0x1b3)]==undefined||Config[_0x7acfb2(0x1e3)]==undefined)throw new Error(_0x7acfb2(0x1f0));const _0x8fdb41=Helper[_0x7acfb2(0x1e1)](_0x7acfb2(0x1b0));let _0x15e398=_0x7acfb2(0x1f1);for(const _0x2e7cb6 of _0x8fdb41){_0x15e398+=_0x8fdb41[_0x7acfb2(0x1e5)](_0x2e7cb6)+0x1+'.\x20'+_0x2e7cb6+'\x0a';}_0x8fdb41[_0x7acfb2(0x1da)]==0x0?_0x15e398+=_0x7acfb2(0x1c7):_0x15e398+=_0x7acfb2(0x1d7);const _0x2461eb=await a3_0x521140[_0x7acfb2(0x1c8)](_0x15e398);this[_0x7acfb2(0x1a9)]=Helper['createDir'](_0x7acfb2(0x1bd)+_0x2461eb),await this[_0x7acfb2(0x1b4)](this[_0x7acfb2(0x1a9)]),await this[_0x7acfb2(0x1eb)](),a3_0x1f1c20[_0x7acfb2(0x1dc)](_0x7acfb2(0x1df)+this[_0x7acfb2(0x1a9)]+_0x7acfb2(0x1c1)),console[_0x7acfb2(0x1ab)](_0x7acfb2(0x1df)+_0x2461eb+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x7acfb2(0x1d9)][_0x7acfb2(0x1ec)](),await Helper[_0x7acfb2(0x1b8)](0xbb8),process[_0x7acfb2(0x1b5)]();}catch(_0x48adde){throw _0x48adde;}}async['queryCreation'](){const _0xbd141c=a3_0x556e52;try{const _0x3837ee=Helper[_0xbd141c(0x1e1)](_0xbd141c(0x1b0));let _0x1d9079=_0xbd141c(0x1f1);for(const _0x4270d1 of _0x3837ee){_0x1d9079+=_0x3837ee[_0xbd141c(0x1e5)](_0x4270d1)+0x1+'.\x20'+_0x4270d1+'\x0a';}_0x3837ee[_0xbd141c(0x1da)]==0x0?_0x1d9079+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x1d9079+=_0xbd141c(0x1cc);const _0x2e28d5=await a3_0x521140[_0xbd141c(0x1c8)](_0x1d9079);this['accountName']=Helper[_0xbd141c(0x1c2)](_0xbd141c(0x1d0)+_0x2e28d5);let _0x4f0ed4=_0xbd141c(0x1d2);const _0x37ad85=await a3_0x521140[_0xbd141c(0x1c8)](_0x4f0ed4);await Helper[_0xbd141c(0x1ad)](this[_0xbd141c(0x1a9)],_0x37ad85),a3_0x1f1c20[_0xbd141c(0x1dc)](_0xbd141c(0x1ea)+this['accountName']+_0xbd141c(0x1c1)),console['log'](_0xbd141c(0x1ea)+_0x2e28d5+_0xbd141c(0x1f3)),await Helper['delay'](0xbb8),process[_0xbd141c(0x1b5)]();}catch(_0x531cf2){throw _0x531cf2;}}async['accountType'](){const _0x14e525=a3_0x556e52;try{const _0x4ccaea=Helper[_0x14e525(0x1e1)](_0x14e525(0x1b0));let _0x47cf1c='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x4ccaea[_0x14e525(0x1da)]>0x0)for(const _0x17725e of _0x4ccaea){_0x47cf1c+=_0x4ccaea['indexOf'](_0x17725e)+0x1+'.\x20'+_0x17725e+'\x0a';}else _0x47cf1c+=_0x14e525(0x1ac);_0x47cf1c+=_0x14e525(0x1cb);const _0x228abd=await a3_0x521140['text'](_0x47cf1c);if(_0x228abd==0x1)await this[_0x14e525(0x1d6)]();else _0x228abd==0x2?await this[_0x14e525(0x1aa)]():(console[_0x14e525(0x1ab)]('Invalid\x20Input'),await this['accountType']());}catch(_0xa0bf7f){throw _0xa0bf7f;}}async[a3_0x556e52(0x1b4)](_0x46a313,_0x200f16){const _0x1bbc3a=a3_0x556e52;try{this[_0x1bbc3a(0x1e9)]=_0x200f16;const _0x5d431b={'connectionRetries':0x5};this['proxy']&&(_0x5d431b[_0x1bbc3a(0x1c0)]=new HttpsProxyAgent(this['proxy'])),this[_0x1bbc3a(0x1d9)]=new StoreSession(_0x46a313),this[_0x1bbc3a(0x1ce)]=new TelegramClient(this['storeSession'],Config[_0x1bbc3a(0x1b3)],Config['TELEGRAM_APP_HASH'],_0x5d431b),this[_0x1bbc3a(0x1d9)][_0x1bbc3a(0x1ec)](),await this[_0x1bbc3a(0x1ce)]['start']({'phoneNumber':async()=>await a3_0x521140[_0x1bbc3a(0x1c8)](_0x1bbc3a(0x1c6)),'password':async()=>await a3_0x521140['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x521140[_0x1bbc3a(0x1c8)](_0x1bbc3a(0x1e6)),'onError':_0x4eb94e=>{const _0x3960c7=_0x1bbc3a;console[_0x3960c7(0x1ab)](_0x4eb94e[_0x3960c7(0x1a8)]);}});}catch(_0x1f5581){throw _0x1f5581;}}async[a3_0x556e52(0x1d1)](){const _0x41211f=a3_0x556e52;try{a3_0x1f1c20[_0x41211f(0x1dc)]('Session\x20'+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x41211f(0x1c9)]==undefined){try{this[_0x41211f(0x1c9)]=await this[_0x41211f(0x1ce)][_0x41211f(0x1e4)](this[_0x41211f(0x1ef)]);break;}catch(_0x14f582){if(_0x14f582 instanceof FloodWaitError){const _0x1cb0d5=_0x14f582['seconds'];a3_0x1f1c20[_0x41211f(0x1f8)](this['client'][_0x41211f(0x1bf)][_0x41211f(0x1f2)]+_0x41211f(0x1b1)+_0x14f582),a3_0x1f1c20[_0x41211f(0x1dc)](this[_0x41211f(0x1ce)][_0x41211f(0x1bf)]['serverAddress']+'\x20|\x20Sleep\x20'+_0x1cb0d5+'s'),await Helper[_0x41211f(0x1b8)]((_0x1cb0d5+0x3)*0x3e8);}else throw _0x14f582;}}}catch(_0x3caf7e){throw _0x3caf7e;}}async[a3_0x556e52(0x1eb)](){const _0x583fa1=a3_0x556e52;await this[_0x583fa1(0x1ce)][_0x583fa1(0x1eb)](),await this['client']['destroy'](),this[_0x583fa1(0x1c9)]=undefined,this['accountName']=undefined;}async[a3_0x556e52(0x1e2)](){const _0x364a3c=a3_0x556e52;try{const _0x4fd071=await this[_0x364a3c(0x1ce)]['invoke'](new Api[(_0x364a3c(0x1af))][(_0x364a3c(0x1e7))]({'peer':this[_0x364a3c(0x1c9)],'bot':this[_0x364a3c(0x1c9)],'fromBotMenu':!![],'url':this[_0x364a3c(0x1bb)],'platform':'android'}));a3_0x1f1c20['info']('Session\x20'+this[_0x364a3c(0x1bf)]+_0x364a3c(0x1ee));const _0x11792=_0x4fd071['url'];return Helper['getTelegramQuery'](_0x11792,0x3);}catch(_0x29380d){throw _0x29380d;}}}