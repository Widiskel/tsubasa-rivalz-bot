const a3_0x5a57c6=a3_0x19ed;function a3_0x405a(){const _0x64d3b1=['accountType','createDir','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','getSession','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','destroy','66354hFneMd','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','\x20-\x20Webview\x20Connected','disconnect','Please\x20Enter\x20Telegram\x20Query\x20:\x20','indexOf','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','\x20|\x20FloodWait\x20','getEntity','queryCreation','text','start','\x20|\x20Sleep\x20','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','serverAddress','1378181DdcoAe','queryModificaiton','getTelegramQuery','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','info','TsubasaRivalsBot','invoke','message','length','android','/query.txt','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','<empty>\x0a','909196VWyvdU','url','bot','log','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','query-','Query\x20','exit','save','peer','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','saveQueryFile','messages','accountName','init','TELEGRAM_APP_HASH','onBoarding','12TpeNfP','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','3794877ZazllB','Invalid\x20Input','Invalid\x20input,\x20Please\x20try\x20again','https://app.ton.tsubasa-rivals.com/','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','Enter\x20your\x20Telegram\x20Password?','\x20-\x20Created','Session\x20','client','readQueryFile','warn','Your\x20Account\x20List\x20:\x0a\x20\x0a','55Ycycvp','TELEGRAM_APP_ID','filter','sessions-','useSession','stringify','148422NQuDFu','delay','seconds','8nhpXNR','sessionCreation','storeSession','455677WNNxxw','includes','proxy','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','1251850wvZFhr','resetAccounts','accounts','resolvePeer','error','session','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a'];a3_0x405a=function(){return _0x64d3b1;};return a3_0x405a();}(function(_0x59942f,_0x5b5128){const _0x1bd15e=a3_0x19ed,_0x2e80fd=_0x59942f();while(!![]){try{const _0x4bfb9a=parseInt(_0x1bd15e(0x20a))/0x1+-parseInt(_0x1bd15e(0x1df))/0x2+-parseInt(_0x1bd15e(0x204))/0x3*(parseInt(_0x1bd15e(0x1f0))/0x4)+parseInt(_0x1bd15e(0x1fe))/0x5*(parseInt(_0x1bd15e(0x21c))/0x6)+-parseInt(_0x1bd15e(0x22b))/0x7+-parseInt(_0x1bd15e(0x207))/0x8*(-parseInt(_0x1bd15e(0x1f2))/0x9)+parseInt(_0x1bd15e(0x20f))/0xa;if(_0x4bfb9a===_0x5b5128)break;else _0x2e80fd['push'](_0x2e80fd['shift']());}catch(_0x2a23){_0x2e80fd['push'](_0x2e80fd['shift']());}}}(a3_0x405a,0x4f2a5));import a3_0x32d474 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x19ed(_0x5ae3e0,_0x506df8){const _0x405a45=a3_0x405a();return a3_0x19ed=function(_0x19edd1,_0x5943e0){_0x19edd1=_0x19edd1-0x1d6;let _0x59ce6e=_0x405a45[_0x19edd1];return _0x59ce6e;},a3_0x19ed(_0x5ae3e0,_0x506df8);}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x25af32 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x30b20f=a3_0x19ed;this['accountName']=_0x30b20f(0x211),this[_0x30b20f(0x1e0)]=_0x30b20f(0x1f5),this['bot']=_0x30b20f(0x1d7);}async[a3_0x5a57c6(0x1ed)](){const _0x5b7a3b=a3_0x5a57c6;try{await this[_0x5b7a3b(0x1ef)]();}catch(_0x4a6b02){console[_0x5b7a3b(0x1e2)](_0x4a6b02),a3_0x25af32[_0x5b7a3b(0x213)](''+JSON[_0x5b7a3b(0x203)](_0x4a6b02));throw _0x4a6b02;}}async['onBoarding'](){const _0xd98043=a3_0x5a57c6;try{let _0x397197=_0xd98043(0x218);const _0x3c82e1=Helper[_0xd98043(0x219)](_0xd98043(0x211));if(_0x3c82e1['length']==0x0)_0x397197+='<empty>';else for(const _0x3957fb of _0x3c82e1){_0x397197+='-\x20'+_0x3957fb+'\x0a';}_0x397197+=_0xd98043(0x1f6),_0x397197+=_0xd98043(0x20e);const _0x10bb9c=await a3_0x32d474['text'](_0x397197);if(_0x10bb9c==0x1)await this['accountType']();else{if(_0x10bb9c==0x2)Helper[_0xd98043(0x210)](),await Helper['delay'](0xbb8),await this[_0xd98043(0x1ef)]();else{if(_0x10bb9c==0x3)Helper[_0xd98043(0x219)](this[_0xd98043(0x1ec)])?.[_0xd98043(0x1da)]==0x0&&(console[_0xd98043(0x1d6)](_0xd98043(0x1dd)),await this[_0xd98043(0x1ef)]());else _0x10bb9c==0x4?await this[_0xd98043(0x22c)]():(console[_0xd98043(0x213)]('Invalid\x20input,\x20Please\x20try\x20again'),await this['onBoarding']());}}}catch(_0x375ee1){throw _0x375ee1;}}async[a3_0x5a57c6(0x22c)](){const _0x4c427a=a3_0x5a57c6;try{const _0x4e66f7=Helper['getSession'](_0x4c427a(0x211)),_0x1de632=_0x4e66f7[_0x4c427a(0x200)](_0x5825a1=>_0x5825a1[_0x4c427a(0x20b)]('query'));let _0x20bd90=_0x4c427a(0x215);for(const _0x13b986 of _0x1de632){_0x20bd90+=_0x4e66f7[_0x4c427a(0x221)](_0x13b986)+0x1+'.\x20'+_0x13b986+'\x0a';}_0x1de632[_0x4c427a(0x1da)]==0x0?(console[_0x4c427a(0x1e2)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this['onBoarding']()):_0x20bd90+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x425ff7=await a3_0x32d474['text'](_0x20bd90);if(_0x1de632[_0x425ff7-0x1]!=undefined){const _0x12a068=_0x1de632[_0x425ff7-0x1];this[_0x4c427a(0x1ec)]='accounts/'+_0x12a068;const _0x22515d='Old\x20Query\x20:\x20'+Helper[_0x4c427a(0x1fb)](this[_0x4c427a(0x1ec)]+_0x4c427a(0x1dc))+_0x4c427a(0x20d),_0x3fc224=await a3_0x32d474['text'](_0x22515d);await Helper[_0x4c427a(0x1ea)](this[_0x4c427a(0x1ec)],_0x3fc224),await Helper[_0x4c427a(0x205)](0xbb8),await this[_0x4c427a(0x1ef)]();}else console[_0x4c427a(0x213)](_0x4c427a(0x1f4)),await this[_0x4c427a(0x22c)]();}catch(_0x4707d4){throw _0x4707d4;}}async[a3_0x5a57c6(0x208)](){const _0x3aa262=a3_0x5a57c6;try{if(Config[_0x3aa262(0x1ff)]==undefined||Config[_0x3aa262(0x1ee)]==undefined)throw new Error(_0x3aa262(0x222));const _0x2d61a0=Helper[_0x3aa262(0x219)]('accounts');let _0x4e1333=_0x3aa262(0x1fd);for(const _0x321a8f of _0x2d61a0){_0x4e1333+=_0x2d61a0[_0x3aa262(0x221)](_0x321a8f)+0x1+'.\x20'+_0x321a8f+'\x0a';}_0x2d61a0['length']==0x0?_0x4e1333+=_0x3aa262(0x229):_0x4e1333+=_0x3aa262(0x1e9);const _0xf08d11=await a3_0x32d474[_0x3aa262(0x226)](_0x4e1333);this[_0x3aa262(0x1ec)]=Helper[_0x3aa262(0x217)](_0x3aa262(0x201)+_0xf08d11),await this['useSession'](this[_0x3aa262(0x1ec)]),await this[_0x3aa262(0x21f)](),a3_0x25af32[_0x3aa262(0x1d6)](_0x3aa262(0x1f9)+this['accountName']+_0x3aa262(0x1f8)),console[_0x3aa262(0x1e2)](_0x3aa262(0x1f9)+_0xf08d11+_0x3aa262(0x22e)),this['storeSession'][_0x3aa262(0x1e7)](),await Helper['delay'](0xbb8),process[_0x3aa262(0x1e6)]();}catch(_0x4e2782){throw _0x4e2782;}}async[a3_0x5a57c6(0x225)](){const _0x1de14d=a3_0x5a57c6;try{const _0x46d6fa=Helper[_0x1de14d(0x219)](_0x1de14d(0x211));let _0x1e5c1c=_0x1de14d(0x1fd);for(const _0x239726 of _0x46d6fa){_0x1e5c1c+=_0x46d6fa['indexOf'](_0x239726)+0x1+'.\x20'+_0x239726+'\x0a';}_0x46d6fa[_0x1de14d(0x1da)]==0x0?_0x1e5c1c+=_0x1de14d(0x21d):_0x1e5c1c+=_0x1de14d(0x21a);const _0x61a2b2=await a3_0x32d474[_0x1de14d(0x226)](_0x1e5c1c);this[_0x1de14d(0x1ec)]=Helper['createDir'](_0x1de14d(0x1e4)+_0x61a2b2);let _0x3ae9d6=_0x1de14d(0x220);const _0x37d52e=await a3_0x32d474[_0x1de14d(0x226)](_0x3ae9d6);await Helper[_0x1de14d(0x1ea)](this[_0x1de14d(0x1ec)],_0x37d52e),a3_0x25af32[_0x1de14d(0x1d6)](_0x1de14d(0x1e5)+this[_0x1de14d(0x1ec)]+_0x1de14d(0x1f8)),console[_0x1de14d(0x1e2)](_0x1de14d(0x1e5)+_0x61a2b2+_0x1de14d(0x22e)),await Helper[_0x1de14d(0x205)](0xbb8),process['exit']();}catch(_0x47e678){throw _0x47e678;}}async[a3_0x5a57c6(0x216)](){const _0x3909ae=a3_0x5a57c6;try{const _0x591c8a=Helper[_0x3909ae(0x219)]('accounts');let _0x5783c0=_0x3909ae(0x1fd);if(_0x591c8a[_0x3909ae(0x1da)]>0x0)for(const _0xef6ee9 of _0x591c8a){_0x5783c0+=_0x591c8a['indexOf'](_0xef6ee9)+0x1+'.\x20'+_0xef6ee9+'\x0a';}else _0x5783c0+=_0x3909ae(0x1de);_0x5783c0+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x1192ec=await a3_0x32d474[_0x3909ae(0x226)](_0x5783c0);if(_0x1192ec==0x1)await this[_0x3909ae(0x208)]();else _0x1192ec==0x2?await this[_0x3909ae(0x225)]():(console['log'](_0x3909ae(0x1f3)),await this[_0x3909ae(0x216)]());}catch(_0xa31e02){throw _0xa31e02;}}async[a3_0x5a57c6(0x202)](_0x582245,_0x2c0a9f){const _0x5c853f=a3_0x5a57c6;try{this[_0x5c853f(0x20c)]=_0x2c0a9f;const _0xec1199={'connectionRetries':0x5};this[_0x5c853f(0x20c)]&&(_0xec1199['agent']=new HttpsProxyAgent(this[_0x5c853f(0x20c)])),this[_0x5c853f(0x209)]=new StoreSession(_0x582245),this[_0x5c853f(0x1fa)]=new TelegramClient(this[_0x5c853f(0x209)],Config['TELEGRAM_APP_ID'],Config[_0x5c853f(0x1ee)],_0xec1199),this[_0x5c853f(0x209)][_0x5c853f(0x1e7)](),await this['client'][_0x5c853f(0x227)]({'phoneNumber':async()=>await a3_0x32d474['text'](_0x5c853f(0x1f1)),'password':async()=>await a3_0x32d474['text'](_0x5c853f(0x1f7)),'phoneCode':async()=>await a3_0x32d474[_0x5c853f(0x226)](_0x5c853f(0x1e3)),'onError':_0x12ebac=>{const _0xbeaa71=_0x5c853f;console[_0xbeaa71(0x1e2)](_0x12ebac[_0xbeaa71(0x1d9)]);}});}catch(_0x13c8c5){throw _0x13c8c5;}}async[a3_0x5a57c6(0x212)](){const _0x551fda=a3_0x5a57c6;try{a3_0x25af32[_0x551fda(0x1d6)]('Session\x20'+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x551fda(0x1e8)]==undefined){try{this[_0x551fda(0x1e8)]=await this[_0x551fda(0x1fa)][_0x551fda(0x224)](this[_0x551fda(0x1e1)]);break;}catch(_0x4ca2da){if(_0x4ca2da instanceof FloodWaitError){const _0xf85f0=_0x4ca2da[_0x551fda(0x206)];a3_0x25af32[_0x551fda(0x1fc)](this[_0x551fda(0x1fa)][_0x551fda(0x214)][_0x551fda(0x22a)]+_0x551fda(0x223)+_0x4ca2da),a3_0x25af32[_0x551fda(0x1d6)](this[_0x551fda(0x1fa)][_0x551fda(0x214)][_0x551fda(0x22a)]+_0x551fda(0x228)+_0xf85f0+'s'),await Helper['delay']((_0xf85f0+0x3)*0x3e8);}else throw _0x4ca2da;}}}catch(_0x5a4c8c){throw _0x5a4c8c;}}async['disconnect'](){const _0x30fa46=a3_0x5a57c6;await this[_0x30fa46(0x1fa)]['disconnect'](),await this[_0x30fa46(0x1fa)][_0x30fa46(0x21b)](),this[_0x30fa46(0x1e8)]=undefined,this[_0x30fa46(0x1ec)]=undefined;}async['initWebView'](){const _0x29670c=a3_0x5a57c6;try{const _0x2167f9=await this[_0x29670c(0x1fa)][_0x29670c(0x1d8)](new Api[(_0x29670c(0x1eb))]['RequestWebView']({'peer':this[_0x29670c(0x1e8)],'bot':this[_0x29670c(0x1e8)],'fromBotMenu':!![],'url':this[_0x29670c(0x1e0)],'platform':_0x29670c(0x1db)}));a3_0x25af32[_0x29670c(0x1d6)](_0x29670c(0x1f9)+this[_0x29670c(0x214)]+_0x29670c(0x21e));const _0x5513a0=_0x2167f9['url'];return Helper[_0x29670c(0x22d)](_0x5513a0,0x3);}catch(_0x48c03f){throw _0x48c03f;}}}